---
import Arrow from './arrow.astro';
import Close from './close.astro';

type Props = {
  links: {
    icon?: 'arrow' | 'close'; // Defaults to arrow.
    href: string;
    text: string;
    wideOnly?: boolean;
  }[];
};

const { links } = Astro.props;
---

<header>
  <a id="logo-link" href="/">
    <img
      class="icon"
      src="/assets/logo-symbol.gif"
      alt="Logo"
      aria-hidden="true"
    />
    <img class="logo" src="/assets/logo.svg" alt="Sokkel." />
  </a>
  <div class="header-links">
    {
      links.map((link) => {
        const icon =
          link.icon === 'close' ? <Close /> : <Arrow direction="right" />;

        const rel = link.href.startsWith('/')
          ? undefined
          : 'noopener noreferrer';

        return (
          <a
            class:list={[{ 'wide-only': link.wideOnly }]}
            href={link.href}
            rel={rel}
          >
            <span>{link.text}</span>
            {icon}
          </a>
        );
      })
    }
  </div>
</header>

<style>
  header {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;

    #logo-link {
      font-size: 0; /* The <a> adds 3px to the height if font-size is non-zero. */
      display: flex;
      align-items: center;
      gap: 0.5rem;

      .icon {
        max-height: 2rem;
        border-radius: var(--radius-sm);
      }

      .logo {
        max-height: 1.5rem;
      }
    }

    .header-links {
      display: flex;
      flex-direction: column;
      align-items: end;

      gap: calc(var(--spacing) * 2);

      a {
        display: flex;
        gap: calc(var(--spacing) * 2);

        color: var(--color-base-primary);
        text-decoration: none;

        font-size: var(--text-sm-font-size);
        line-height: 100%;
        font-weight: var(--font-weight-medium);

        &:hover {
          text-decoration: underline;
        }

        &.wide-only {
          display: none;
          @media (min-width: 40rem) {
            display: flex;
          }
        }
      }
    }
  }
</style>
